<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الخرائط الذكية - نظام المرور الذكي</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="map.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&display=swap" rel="stylesheet">
      <link rel="stylesheet" href="active.css">
      <script src="active.js"></script>
</head>
<body>
    <div class="container">
        <!-- ===== SIDEBAR ===== -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <i class="fas fa-traffic-light"></i>
                    <h2>إدارة المرور</h2>
                </div>
                <button class="toggle-sidebar" id="toggleSidebar">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
            
            <div class="user-info">
                <div class="user-avatar">
                    <i class="fas fa-user-circle"></i>
                </div>
              
            </div>
            
            <nav class="sidebar-menu">
                <ul>
                    <li>
                        <a href="posss.html">
                            <i class="fas fa-home"></i>
                            <span>الرئيسية</span>
                        </a>
                    </li>
                    <li>
                        <a href="violations.html">
                            <i class="fas fa-exclamation-triangle"></i>
                            <span>المخالفات</span>
                            <span class="badge">12</span>
                        </a>
                    </li>
                    <li>
                        <a href="analysis.html">
                            <i class="fas fa-chart-bar"></i>
                            <span>التحليلات</span>
                        </a>
                    </li>
                    <li class="active">
                        <a href="map.html">
                            <i class="fas fa-map-marked-alt"></i>
                            <span>الخرائط الذكية</span>
                            <span class="badge active-badge">مفعل</span>
                        </a>
                    </li>
                    <li>
                        <a href="prediction.html">
                            <i class="fas fa-crystal-ball"></i>
                            <span>التنبؤات</span>
                        </a>
                    </li>
                    <li>
                        <a href="stting.html">
                            <i class="fas fa-cog"></i>
                            <span>الإعدادات</span>
                        </a>
                    </li>
                </ul>
            </nav>
            
            <div class="sidebar-footer">
                <div class="traffic-status">
                    <h4>حالة المرور</h4>
                    <div class="status-indicator">
                        <span class="status-dot active"></span>
                        <span>مشغول حالياً</span>
                    </div>
                </div>
                <button class="logout-btn">
                    
                        <a href="login.html">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>تسجيل الخروج</span>
                            </a>
                </button>
            </div>
        </aside>

        <!-- ===== MAIN ===== -->
        <main class="main">
            <!-- NAVBAR -->
            <nav class="navbar">
                <div class="navbar-left">
                    <h1>
                        <i class="fas fa-traffic-light"></i>
                        نظام المرور الذكي
                        <span class="nav-separator">»</span>
                        <span class="nav-current">الخرائط الذكية</span>
                    </h1>
                </div>
                <div class="navbar-right">
                    <div class="date-time">
                        <i class="fas fa-calendar-alt"></i>
                        <span id="currentDate">15 فبراير 2026</span>
                    </div>
                    <div class="notifications">
                        <button class="notification-btn">
                            <i class="fas fa-bell"></i>
                            <span class="notification-count">3</span>
                        </button>
                    </div>
                    <div class="search-box">
                        <input type="text" placeholder="بحث...">
                        <i class="fas fa-search"></i>
                    </div>
                </div>
            </nav>

            <!-- CONTROLS -->
            <section class="controls">
                <div class="control-group">
                    <div class="control-label">
                        <i class="fas fa-clock"></i>
                        <span>الزمن:</span>
                    </div>
                    <div class="time-control">
                        <input type="range" min="0" max="23" value="12" id="timeRange">
                        <div class="time-display">
                            <span id="timeValue">12:00</span>
                            <span class="time-period">مساءً</span>
                        </div>
                    </div>
                </div>
                
                <div class="control-group">
                    <div class="control-label">
                        <i class="fas fa-filter"></i>
                        <span>التصفية:</span>
                    </div>
                    <select class="filter-select" id="filterSelect">
                        <option value="all">جميع المخاطر</option>
                        <option value="high">مخاطر عالية فقط</option>
                        <option value="medium">مخاطر متوسطة فقط</option>
                        <option value="low">مخاطر منخفضة فقط</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <button class="control-btn" id="toggleRisk">
                        <i class="fas fa-eye"></i>
                        <span>إظهار / إخفاء المخاطر</span>
                    </button>
                    <button class="control-btn primary" id="refreshMap">
                        <i class="fas fa-sync-alt"></i>
                        <span>تحديث الخريطة</span>
                    </button>
                </div>
            </section>

            <!-- MAP -->
            <section class="map-container">
                <div class="map-header">
                    <h2><i class="fas fa-map"></i> خريطة المخاطر المرورية</h2>
                    <div class="map-legend">
                        <div class="legend-item">
                            <span class="legend-color high"></span>
                            <span>مخاطر عالية</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color medium"></span>
                            <span>مخاطر متوسطة</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color low"></span>
                            <span>مخاطر منخفضة</span>
                        </div>
                    </div>
                </div>
                
                <div class="map-wrapper">
                    <div class="map" id="mainMap">
                        <!-- Zones will be generated by JavaScript -->
                    </div>
                    
                    <!-- INFO PANEL -->
                    <div class="info-panel">
                        <div class="info-header">
                            <h3><i class="fas fa-info-circle"></i> تفاصيل المنطقة</h3>
                            <button class="close-info" id="closeInfo">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div class="info-content">
                            <p id="infoText">انقر على أي منطقة لعرض التفاصيل</p>
                            <div class="zone-details" id="zoneDetails">
                                <!-- Details will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- MAP ACTIONS -->
                <div class="map-actions">
                    <button class="map-btn camera-btn">
                        <i class="fas fa-video"></i>
                      <a href="camera.html">  <span>عرض الكاميرات</span></a>
                    </button>
                    <button class="map-btn send-btn">
                        <i class="fas fa-car"></i>
                     <a href="patrols.html">    <span>
                        للدوريات 
                     
                     </span></a>
                     
                    </button>
                    <button class="map-btn alert-btn">
                        <i class="fas fa-bullhorn"></i>
                        <span>إرسال تنبيه</span>
                    </button>
                </div>
            </section>

            <!-- AI INSIGHTS -->
            <section class="ai-insights">
                <div class="section-header">
                    <h2><i class="fas fa-brain"></i> التحليل الذكي للمناطق</h2>
                    <div class="ai-update">
                        <span>آخر تحديث: قبل 5 دقائق</span>
                        <button class="update-btn">
                            <i class="fas fa-redo"></i>
                        </button>
                    </div>
                </div>
                
                <div class="ai-grid">
                    <div class="ai-card">
                        <div class="ai-card-header">
                            <i class="fas fa-exclamation-circle"></i>
                            <h4>مستوى الخطورة</h4>
                        </div>
                        <div class="ai-card-body">
                            <div class="ai-value danger">مرتفع</div>
                            <div class="ai-progress">
                                <div class="progress-bar" style="width: 78%"></div>
                            </div>
                            <div class="ai-percent">78%</div>
                        </div>
                    </div>
                    
                    <div class="ai-card">
                        <div class="ai-card-header">
                            <i class="fas fa-car"></i>
                            <h4>كثافة المرور</h4>
                        </div>
                        <div class="ai-card-body">
                            <div class="ai-value warning">متوسط</div>
                            <div class="ai-progress">
                                <div class="progress-bar" style="width: 54%"></div>
                            </div>
                            <div class="ai-percent">54%</div>
                        </div>
                    </div>
                    
                    <div class="ai-card">
                        <div class="ai-card-header">
                            <i class="fas fa-balance-scale"></i>
                            <h4>احتمالية المخالفات</h4>
                        </div>
                        <div class="ai-card-body">
                            <div class="ai-value primary">عالية</div>
                            <div class="ai-progress">
                                <div class="progress-bar" style="width: 82%"></div>
                            </div>
                            <div class="ai-percent">82%</div>
                        </div>
                    </div>
                    
                    <div class="ai-card">
                        <div class="ai-card-header">
                            <i class="fas fa-robot"></i>
                            <h4>توصية الذكاء الاصطناعي</h4>
                        </div>
                        <div class="ai-card-body">
                            <div class="ai-value success">زيادة الرقابة</div>
                            <div class="ai-recommendation">
                                <p>نوصي بنشر 3 دوريات إضافية في المنطقة خلال ساعات الذروة</p>
                            </div>
                            <div class="ai-percent">
                                <i class="fas fa-check-circle"></i>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- AI NETWORK (Placeholder) -->
                <div class="ai-network">
                    <div class="network-header">
                        <h4><i class="fas fa-project-diagram"></i> شبكة الذكاء الاصطناعي</h4>
                        <span>تحليل حي في الوقت الفعلي</span>
                    </div>
                    <div class="network-visualization" id="networkCanvas">
                        <!-- Canvas will be drawn by JavaScript -->
                        <div class="network-placeholder">
                            <i class="fas fa-network-wired"></i>
                            <p>جاري تحليل بيانات الشبكة...</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- MODAL FOR ZONE DETAILS -->
    <div class="modal" id="zoneModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>تفاصيل المنطقة</h3>
                <button class="modal-close" id="modalClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Modal content will be populated by JavaScript -->
            </div>
            <div class="modal-footer">
                <button class="modal-btn secondary" id="modalCancel">إلغاء</button>
                <button class="modal-btn primary" id="modalAction">تنفيذ الإجراء</button>
            </div>
        </div>
    </div>

    <script src="map.js"></script>
</body>
</html>
